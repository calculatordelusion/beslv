const o="https://beesolver.com";async function c(n,a){const t=await a(n,{headers:{accept:"application/json,text/html,*/*"}});if(!t.ok)throw new Error(`Upstream ${n} failed: ${t.status}`);return await t.json()}function i(n){const a=(n==null?void 0:n.nodes)||[];if(!Array.isArray(a)||a.length===0)throw new Error("Invalid upstream JSON structure");const t=a[a.length-1];if(!t||!Array.isArray(t.data))throw new Error("No data in node");let d=null;if(Array.isArray(t.data[1])&&t.data[1].length>0)d=t.data[1];else for(let r=t.data.length-1;r>=0;r--){const e=t.data[r];if(e&&typeof e=="object"&&!Array.isArray(e)&&(e.date||e.centerLetter||e.archive)){d=e;break}}if(!d)return null;const u=(r,e)=>{if(Array.isArray(r))return r.map(s=>typeof s=="number"&&s>=0&&s<e.length?u(e[s],e):u(s,e));if(r&&typeof r=="object"){const s={};for(const y in r){const f=r[y];typeof f=="number"&&f>=0&&f<e.length?s[y]=u(e[f],e):s[y]=u(f,e)}return s}return r};return u(d,t.data)}async function l(n){const a=await c(`${o}/hints/__data.json`,n);return i(a)}async function h(n){const a=await c(`${o}/answers/__data.json`,n);return i(a)}async function w(n){const a=await c(`${o}/pangram/__data.json`,n).catch(()=>null);if(a)return i(a);const t=await l(n);return{date:t.date,pangrams:t.pangrams,formattedDate:t.formattedDate}}async function g(n){const a=await c(`${o}/archive/__data.json`,n),t=i(a);return Array.isArray(t)?t:(t==null?void 0:t.archive)||t}async function p(n,a){const t=await c(`${o}/${n}/answers/__data.json`,a);return i(t)}async function _(n,a){const t=await c(`${o}/${n}/hints/__data.json`,a);return i(t)}export{l as a,w as b,_ as c,h as d,p as e,g};
